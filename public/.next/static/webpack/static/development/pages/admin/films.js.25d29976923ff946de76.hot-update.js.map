{"version":3,"file":"static/webpack/static/development/pages/admin/films.js.25d29976923ff946de76.hot-update.js","sources":["webpack:///./pages/admin/films.js"],"sourcesContent":["import React from 'react';\nimport Router from 'next/router'\nimport \"../../src/styles/main.scss\";\nimport withAuth from  '../../src/hocs/withAuth'\n\nimport CategoriesService from '../../src/services/Categories';\nconst categories = new CategoriesService();\n\nimport Logo from '../../src/components/logo';\nimport Footer from '../../src/components/footer';\n\nclass AdminFilms extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            category: \"\",\n            categoryId: Router.query.id,\n            films: []\n        }\n    }\n\n    componentDidMount() {\n        categories.getFilmsByCategoryId(Router.query.id).then(res =>  {\n            this.setState({films: res.films});\n            this.setState({category: res.category});\n        });\n    }\n\n    deleteFilm(idFilm) {\n        categories.deleteFilm(idFilm).then(res =>  {\n            console.log(res);\n        });\n    }\n\n    render () {\n        const { films, category, categoryId } = this.state;\n        return (\n            <section className=\"admin\">\n                <header className=\"header\">\n                    <div className=\"arrow-back action\" onClick={() => Router.push(`/admin/category/`)}>\n                        <i className=\"fas fa-arrow-left icon\"></i>\n                        <small className=\"text\">Back</small>\n                    </div>\n                    <Logo />\n                    <div className=\"arrow-back action\" onClick={() => Router.push(`/admin/${categoryId}/${category}/film `)}>\n                        <i className=\"far fa-plus-square icon\"></i>\n                        <small className=\"text\">Add</small>\n                    </div>\n                </header>\n                <main className=\"main\">\n                    <h2 className=\"title\">{category}</h2>\n                    <div className=\"table\">\n                        <div className=\"row -head\">\n                            <div className=\"col -img\">\n                                Image\n                            </div>\n                            <div className=\"col -flex\">\n                                Title\n                            </div>\n                            <div className=\"col -act\">\n                                Action\n                            </div>\n                        </div>\n                        {\n                            films.map(film => (\n                                <div className=\"row\" key={film.id}>\n                                    <div className=\"col -img\">\n                                        <img src={film.picture} className=\"picture\" />\n                                    </div>\n                                    <div className=\"col -flex\">\n                                        {film.title}\n                                    </div>\n                                    <div className=\"col -act\">\n                                        <div className=\"icon -editar action\" onClick={() => Router.push(`/admin/${categoryId}/${category}/film/${film.id}`)}>\n                                            <i className=\"far fa-edit icon\"></i>\n                                            <small className=\"text\">Edit</small>\n                                        </div>\n                                        <div className=\"icon -delete  action\" onClick={deleteFilm(film.id)}>\n                                            <i className=\"fas fa-eraser icon\"></i>\n                                            <small className=\"text\">Delete</small>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))\n                        }\n                    </div>\n                </main>\n                <Footer />\n            </section>\n        );\n    }\n}\n\nexport default withAuth(AdminFilms);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA/EA;AACA;AAiFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}