{"version":3,"file":"static/webpack/static/development/pages/admin/film.js.4e25a8521af0919b5180.hot-update.js","sources":["webpack:///./src/services/Categories.js"],"sourcesContent":["import AuthService from './AuthService';\n\nconst auth = new AuthService();\n\nexport default class CategoriesService {\n    constructor() {\n      this.domain = process.env.API_URL\n      this.fetch = this.fetch.bind(this)\n    }\n  \n    getCategories() {\n      return this.fetch(`${this.domain}/category`, {\n        method: 'GET'\n      }).then(res => Promise.resolve(res))\n    }\n\n    getFilmsByCategoryId(idCategory) {\n        return this.fetch(`${this.domain}/category/${idCategory}/films`, {\n          method: 'GET'\n        }).then(res => Promise.resolve(res))\n    }\n\n    getFilmById(idFilm) {\n        return this.fetch(`${this.domain}/film/${idFilm}`, {\n            method: 'GET'\n        }).then(res => Promise.resolve(res))\n    }\n\n    saveFilm(film) {\n        \n        return this.fetch(`${this.domain}/films`, {\n            method: 'POST',\n            body: JSON.stringify(film)\n        }).then(res => Promise.resolve(res))\n\n    }\n\n    updateFilm(film, idFilm) {\n        \n      return this.fetch(`${this.domain}/films/${idFilm}`, {\n          method: 'PUT',\n          body: JSON.stringify(film)\n      }).then(res => Promise.resolve(res))\n\n    }\n\n    uploadPicture(data) {\n        const headers = {}\n        \n        if (auth.loggedIn()){\n            headers['Authorization'] = 'Bearer ' + localStorage.getItem('id_token')\n        }\n        console.log(data);\n        return fetch(`${this.domain}/upload`, {\n            headers,\n            method: 'POST',\n            body: data\n        })\n          .then(this._checkStatus)\n          .then(response => response.json())\n    }\n\n    _checkStatus(response) {\n        if (response.status >= 200 && response.status < 300) {\n          return response\n        } else {\n          var error = new Error(response.statusText)\n          error.response = response\n          throw error\n        }\n    }\n  \n    fetch(url, options){\n      const headers = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n  \n      if (auth.loggedIn()){\n        headers['Authorization'] = 'Bearer ' + localStorage.getItem('id_token')\n      }\n  \n      return fetch(url, {\n        headers,\n        ...options\n      })\n      .then(this._checkStatus)\n      .then(response => response.json())\n    }\n  }"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;AADA;AAEA;AAAA;AACA;;;AAEA;AACA;AACA;AADA;AAEA;AAAA;AACA;;;AAEA;AACA;AACA;AADA;AAEA;AAAA;AACA;;;AAEA;AAEA;AACA;AACA;AAFA;AAGA;AAAA;AAEA;;;AAEA;AAEA;AACA;AACA;AAFA;AAGA;AAAA;AAEA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AAKA;AAAA;AACA;;;;;;;;;;A","sourceRoot":""}